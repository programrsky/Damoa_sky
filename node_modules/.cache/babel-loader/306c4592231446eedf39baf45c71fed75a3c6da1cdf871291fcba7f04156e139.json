{"ast":null,"code":"import style from'../css/LoginForm.module.css';import{useState}from'react';import axios from'axios';import LoginArrow from'../svg/LoginArrow';import EyeSvg from'../svg/EyeSvg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(_ref){let{openSignUpModal}=_ref;const[user_id,setUsername]=useState('');const[user_pw,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const[showPassword,setShowPassword]=useState(false);const handleLogin=async()=>{try{// Define the base URL\nlet baseURL='';if(process.env.NODE_ENV==='development'){// If in development environment, use local IP\nbaseURL='http://121.139.20.242:5100';}const response=await axios.post(\"\".concat(baseURL,\"/api/check\"),{user_id:user_id,user_pw:user_pw});if(response.data.valid){localStorage.setItem('user_id',user_id);window.location.reload();}else{setErrorMessage('아이디 또는 비밀번호가 잘못되었습니다.');}}catch(error){setErrorMessage('데이터베이스 연결이 실패하였습니다.');}};const handleMouseDown=()=>{setShowPassword(true);};const handleMouseUp=()=>{setShowPassword(false);};return/*#__PURE__*/_jsxs(\"div\",{className:style.bg,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.bg__container,children:[/*#__PURE__*/_jsx(\"p\",{className:style.login__title,children:\"\\uB85C\\uADF8\\uC778\\uC744 \\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:style.login__input,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.login__input__id,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:user_id,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.login__input__pw,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC5B4\\uBC84\\uB838\\uB098\\uC694?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.pwInputGroup,children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',name:\"password\",value:user_pw,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{onMouseDown:handleMouseDown,onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,children:/*#__PURE__*/_jsx(EyeSvg,{})})]})]})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:style.errorMessage,children:errorMessage}),/*#__PURE__*/_jsxs(\"button\",{className:style.login__loginBtn,onClick:handleLogin,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(LoginArrow,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:style.register,children:/*#__PURE__*/_jsx(\"div\",{className:style.register__container,children:/*#__PURE__*/_jsx(\"a\",{className:style.register__title,onClick:openSignUpModal,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})})]});}","map":{"version":3,"names":["style","useState","axios","LoginArrow","EyeSvg","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","openSignUpModal","user_id","setUsername","user_pw","setPassword","errorMessage","setErrorMessage","showPassword","setShowPassword","handleLogin","baseURL","process","env","NODE_ENV","response","post","concat","data","valid","localStorage","setItem","window","location","reload","error","handleMouseDown","handleMouseUp","className","bg","children","bg__container","login__title","login__input","login__input__id","type","name","value","onChange","e","target","login__input__pw","href","pwInputGroup","onMouseDown","onMouseUp","onMouseLeave","login__loginBtn","onClick","register","register__container","register__title"],"sources":["/Users/programsky/Documents/GitHub/Damoa_sky/src/component/LoginForm.jsx"],"sourcesContent":["import style from '../css/LoginForm.module.css';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport LoginArrow from '../svg/LoginArrow';\nimport EyeSvg from '../svg/EyeSvg';\n\nexport default function LoginForm({ openSignUpModal }) {\n    const [user_id, setUsername] = useState('');\n    const [user_pw, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleLogin = async () => {\n        try {\n            // Define the base URL\n            let baseURL = '';\n            if (process.env.NODE_ENV === 'development') {\n                // If in development environment, use local IP\n                baseURL = 'http://121.139.20.242:5100';\n            }\n            const response = await axios.post(`${baseURL}/api/check`, {\n                user_id: user_id,\n                user_pw: user_pw,\n            });\n            if (response.data.valid) {\n                localStorage.setItem('user_id', user_id);\n                window.location.reload();\n            } else {\n                setErrorMessage('아이디 또는 비밀번호가 잘못되었습니다.');\n            }\n        } catch (error) {\n            setErrorMessage('데이터베이스 연결이 실패하였습니다.');\n        }\n    };\n\n    const handleMouseDown = () => {\n        setShowPassword(true);\n    };\n\n    const handleMouseUp = () => {\n        setShowPassword(false);\n    };\n\n    return (\n        <div className={style.bg}>\n            <div className={style.bg__container}>\n                <p className={style.login__title}>로그인을 해주세요</p>\n                <div className={style.login__input}>\n                    <div className={style.login__input__id}>\n                        <p>아이디</p>\n                        <input type=\"text\" name=\"id\" value={user_id} onChange={(e) => setUsername(e.target.value)} />\n                    </div>\n                    <div className={style.login__input__pw}>\n                        <div>\n                            <p>비밀번호</p>\n                            <a href=\"#\">비밀번호를 잊어버렸나요?</a>\n                        </div>\n                        <div className={style.pwInputGroup}>\n                            <input\n                                type={showPassword ? 'text' : 'password'}\n                                name=\"password\"\n                                value={user_pw}\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                            <span onMouseDown={handleMouseDown} onMouseUp={handleMouseUp} onMouseLeave={handleMouseUp}>\n                                <EyeSvg />\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                {errorMessage && <p className={style.errorMessage}>{errorMessage}</p>}\n                <button className={style.login__loginBtn} onClick={handleLogin}>\n                    <p>로그인</p>\n                    <LoginArrow />\n                </button>\n            </div>\n            <div className={style.register}>\n                <div className={style.register__container}>\n                    <a className={style.register__title} onClick={openSignUpModal}>\n                        회원가입\n                    </a>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}