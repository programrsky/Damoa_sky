{"ast":null,"code":"import React,{useState,useEffect}from'react';import styles from'../css/Board.module.css';import{Link}from'react-router-dom';import Reviewstyles from'../css/Review.module.css';import{ReactComponent as AddIcon}from'../svg/AddIcon.svg';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Board=()=>{const[data,setData]=useState([]);const[errorMessage,setErrorMessage]=useState('');useEffect(()=>{const fetchData=async()=>{try{// Define the base URL\nlet baseURL='';if(process.env.NODE_ENV==='development'){// If in development environment, use local IP\nbaseURL='http://121.139.20.242:5100';}const response=await axios.post(\"\".concat(baseURL,\"/api/notice_selectlist\"),{notice_auth:1});if(response.data.valid){setData(response.data.data);}else{setErrorMessage('리스트를 불러오는데 실패하였습니다.');}}catch(error){setErrorMessage('데이터베이스 연결이 실패하였습니다.');}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.boardContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.headerContainer,children:/*#__PURE__*/_jsxs(Link,{className:Reviewstyles.button,to:\"writing\",children:[/*#__PURE__*/_jsx(AddIcon,{}),/*#__PURE__*/_jsx(\"p\",{className:Reviewstyles.buttonText,children:\"\\uAE00 \\uC4F0\\uB7EC \\uAC00\\uAE30\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.boardHeader,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.headerItem,children:\"\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerItem,children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerItem,children:\"\\uAE00\\uC4F4\\uC774\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerItem,children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerItem,children:\"\\uC870\\uD68C\"})]}),data.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:styles.boardRow,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.rowItem,children:item.notice_id}),/*#__PURE__*/_jsx(Link,{to:\"/community/post?notice_id=\".concat(item.notice_id),className:styles.rowItem,children:item.notice_name}),/*#__PURE__*/_jsx(\"div\",{className:styles.rowItem,children:item.user_name}),/*#__PURE__*/_jsx(\"div\",{className:styles.rowItem,children:(()=>{const date=new Date(item.notice_date);date.setHours(date.getHours()-9);const formattedDate=date.toLocaleDateString('ko-KR',{hour:'numeric',minute:'numeric'});return formattedDate;})()}),/*#__PURE__*/_jsx(\"div\",{className:styles.rowItem,children:item.notice_views})]},item.id))]});};export default Board;","map":{"version":3,"names":["React","useState","useEffect","styles","Link","Reviewstyles","ReactComponent","AddIcon","axios","jsx","_jsx","jsxs","_jsxs","Board","data","setData","errorMessage","setErrorMessage","fetchData","baseURL","process","env","NODE_ENV","response","post","concat","notice_auth","valid","error","className","boardContainer","children","headerContainer","button","to","buttonText","boardHeader","headerItem","map","item","boardRow","rowItem","notice_id","notice_name","user_name","date","Date","notice_date","setHours","getHours","formattedDate","toLocaleDateString","hour","minute","notice_views","id"],"sources":["/Users/programsky/Documents/GitHub/Damoa_sky/src/component/Board.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styles from '../css/Board.module.css';\nimport { Link } from 'react-router-dom';\nimport Reviewstyles from '../css/Review.module.css';\nimport { ReactComponent as AddIcon } from '../svg/AddIcon.svg';\nimport axios from 'axios';\n\nconst Board = () => {\n    const [data, setData] = useState([]);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                // Define the base URL\n                let baseURL = '';\n                if (process.env.NODE_ENV === 'development') {\n                    // If in development environment, use local IP\n                    baseURL = 'http://121.139.20.242:5100';\n                }\n                const response = await axios.post(`${baseURL}/api/notice_selectlist`, {\n                    notice_auth: 1,\n                });\n                if (response.data.valid) {\n                    setData(response.data.data);\n                } else {\n                    setErrorMessage('리스트를 불러오는데 실패하였습니다.');\n                }\n            } catch (error) {\n                setErrorMessage('데이터베이스 연결이 실패하였습니다.');\n            }\n        };\n  \n    fetchData();\n    }, []);\n    return (\n        <div className={styles.boardContainer}>\n            <div className={styles.headerContainer}>\n                <Link className={Reviewstyles.button} to=\"writing\">\n                    <AddIcon />\n                    <p className={Reviewstyles.buttonText}>글 쓰러 가기</p>\n                </Link>\n            </div>\n            <div className={styles.boardHeader}>\n                <div className={styles.headerItem}>번호</div>\n                <div className={styles.headerItem}>제목</div>\n                <div className={styles.headerItem}>글쓴이</div>\n                <div className={styles.headerItem}>작성일</div>\n                <div className={styles.headerItem}>조회</div>\n            </div>\n            {data.map((item) => (\n                <div key={item.id} className={styles.boardRow}>\n                    <div className={styles.rowItem}>{item.notice_id}</div>\n                    <Link to={`/community/post?notice_id=${item.notice_id}`} className={styles.rowItem}>\n                        {item.notice_name}\n                    </Link>\n                    <div className={styles.rowItem}>{item.user_name}</div>\n                    <div className={styles.rowItem}>\n                        {(() => {\n                            const date = new Date(item.notice_date);\n                            date.setHours(date.getHours() - 9);\n                            const formattedDate = date.toLocaleDateString('ko-KR', {\n                            hour: 'numeric',\n                            minute: 'numeric',\n                            });\n\n                            return formattedDate;\n                        })()}\n                    </div>\n                    <div className={styles.rowItem}>{item.notice_views}</div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Board;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}