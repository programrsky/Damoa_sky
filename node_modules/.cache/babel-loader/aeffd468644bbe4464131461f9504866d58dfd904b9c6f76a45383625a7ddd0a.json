{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import styles from'../css/ReviePageRating.module.css';import StarRating from'../svg/StarRating';import StarRatingHalf from'../svg/StarRatingHalf';import EmptyStarRating from'../svg/EmptyStarRating';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const getStars=rating=>{const stars=[];for(let i=1;i<=5;i++){if(rating>=i){stars.push(/*#__PURE__*/_jsx(StarRating,{},i));}else if(rating>=i-0.5){stars.push(/*#__PURE__*/_jsx(StarRatingHalf,{},i));}else{stars.push(/*#__PURE__*/_jsx(EmptyStarRating,{},i));}}return stars;};export default function ReviewComponent(){const[data,setData]=useState([]);const[errorMessage,setErrorMessage]=useState('');useEffect(()=>{const fetchData=async()=>{try{// Define the base URL\nlet baseURL='';if(process.env.NODE_ENV==='development'){// If in development environment, use local IP\nbaseURL='http://121.139.20.242:5100';}const response=await axios.post(\"\".concat(baseURL,\"/api/notice_selectlist\"),{notice_auth:2});if(response.data.valid){setData(response.data.data);}else{setErrorMessage('리스트를 불러오는데 실패하였습니다.');}}catch(error){setErrorMessage('데이터베이스 연결이 실패하였습니다.');}};fetchData();},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:data.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.block,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.title,children:review.notice_name}),/*#__PURE__*/_jsx(\"div\",{className:styles.reviewTitleContainer,children:/*#__PURE__*/_jsx(\"button\",{className:styles.rating__starBtn,children:/*#__PURE__*/_jsxs(\"div\",{className:styles['rating__starBtn__elements-group'],children:[/*#__PURE__*/_jsx(\"div\",{className:styles.rating__starBtn__stars,children:getStars(review.rating)}),/*#__PURE__*/_jsx(\"span\",{className:styles.rating__starBtn__text,children:review.rating})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.contentBlock,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.contentText,children:review.user_date}),/*#__PURE__*/_jsxs(\"p\",{className:styles.contentText,children:[review.user_name,\" \\uB2D8\\uC774 \\uB0A8\\uAE30\\uC2E0 \\uB9AC\\uBDF0\\uC785\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(\"p\",{className:styles.boldText,children:review.notice_detail})]})]},index))});}","map":{"version":3,"names":["React","useState","useEffect","axios","styles","StarRating","StarRatingHalf","EmptyStarRating","jsx","_jsx","jsxs","_jsxs","getStars","rating","stars","i","push","ReviewComponent","data","setData","errorMessage","setErrorMessage","fetchData","baseURL","process","env","NODE_ENV","response","post","concat","notice_auth","valid","error","className","container","children","map","review","index","block","header","title","notice_name","reviewTitleContainer","rating__starBtn","rating__starBtn__stars","rating__starBtn__text","contentBlock","contentText","user_date","user_name","boldText","notice_detail"],"sources":["/Users/programsky/Documents/GitHub/Damoa_sky/src/component/ReviewPageReview.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from '../css/ReviePageRating.module.css';\nimport StarRating from '../svg/StarRating';\nimport StarRatingHalf from '../svg/StarRatingHalf';\nimport EmptyStarRating from '../svg/EmptyStarRating';\n\nconst getStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n        if (rating >= i) {\n            stars.push(<StarRating key={i} />);\n        } else if (rating >= i - 0.5) {\n            stars.push(<StarRatingHalf key={i} />);\n        } else {\n            stars.push(<EmptyStarRating key={i} />);\n        }\n    }\n    return stars;\n};\n\nexport default function ReviewComponent() {\n    const [data, setData] = useState([]);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                // Define the base URL\n                let baseURL = '';\n                if (process.env.NODE_ENV === 'development') {\n                    // If in development environment, use local IP\n                    baseURL = 'http://121.139.20.242:5100';\n                }\n\n                const response = await axios.post(`${baseURL}/api/notice_selectlist`, {\n                    notice_auth: 2,\n                });\n\n                if (response.data.valid) {\n                    setData(response.data.data);\n                } else {\n                    setErrorMessage('리스트를 불러오는데 실패하였습니다.');\n                }\n            } catch (error) {\n                setErrorMessage('데이터베이스 연결이 실패하였습니다.');\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    return (\n        <div className={styles.container}>\n            {data.map((review, index) => (\n                <div className={styles.block} key={index}>\n                    <div className={styles.header}>\n                        <p className={styles.title}>{review.notice_name}</p>\n                        <div className={styles.reviewTitleContainer}>\n                            <button className={styles.rating__starBtn}>\n                                <div className={styles['rating__starBtn__elements-group']}>\n                                    <div className={styles.rating__starBtn__stars}>{getStars(review.rating)}</div>\n                                    <span className={styles.rating__starBtn__text}>{review.rating}</span>\n                                </div>\n                            </button>\n                        </div>\n                    </div>\n                    <div className={styles.contentBlock}>\n                        <p className={styles.contentText}>{review.user_date}</p>\n                        <p className={styles.contentText}>{review.user_name} 님이 남기신 리뷰입니다.</p>\n                        <p className={styles.boldText}>{review.notice_detail}</p>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}