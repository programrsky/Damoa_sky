{"ast":null,"code":"import style from'../css/LoginForm.module.css';import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(){const[user_id,setUsername]=useState(\"\");const[user_pw,setPassword]=useState(\"\");const[errorMessage,setErrorMessage]=useState('');const navigate=useNavigate();const handleLogin=async()=>{try{// Define the base URL\nlet baseURL=\"\";if(process.env.NODE_ENV===\"development\"){// If in development environment, use local IP\nbaseURL=\"http://121.139.20.242:5100\";}const response=await axios.post(\"\".concat(baseURL,\"/api/check\"),{user_id:user_id,user_pw:user_pw});if(response.data.valid){localStorage.setItem(\"user_id\",user_id);navigate(\"/\");// Navigate to main page on successful login\n}else{alert(\"아이디 또는 비밀번호가 잘못되었습니다.\");}}catch(error){alert(\"데이터베이스 연결이 실패하였습니다.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:style.bg,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.bg__container,children:[/*#__PURE__*/_jsx(\"p\",{className:style.login__title,children:\"\\uB85C\\uADF8\\uC778\\uC744 \\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:style.login__input,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.login__input__id,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:user_id,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.login__input__pw,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC5B4\\uBC84\\uB838\\uB098\\uC694?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pw-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:user_pw,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(EyeSvg,{})]})]})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:style.errorMessage,children:errorMessage}),/*#__PURE__*/_jsxs(\"button\",{className:style.login__loginBtn,onClick:handleLogin,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Arrow,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:style.register,children:/*#__PURE__*/_jsx(\"div\",{className:style.register__container,children:/*#__PURE__*/_jsx(\"a\",{className:style.register__title,href:\"#\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})})]});}function EyeSvg(params){return/*#__PURE__*/_jsxs(\"svg\",{className:style[\"eye-icon\"],width:\"44\",height:\"44\",viewBox:\"0 0 49 49\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M40 15.5417C33.75 15.5417 31.25 22 31.25 22C31.25 22 33.75 28.4584 40 28.4584C46.25 28.4584 48.75 22 48.75 22C48.75 22 46.25 15.5417 40 15.5417Z\",stroke:\"#999999\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M40 24.5C41.381 24.5 42.5 23.3807 42.5 22C42.5 20.6193 41.381 19.5 40 19.5C38.619 19.5 37.5 20.6193 37.5 22C37.5 23.3807 38.619 24.5 40 24.5Z\",stroke:\"#999999\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})]});}function Arrow(){return/*#__PURE__*/_jsxs(\"svg\",{width:21,height:20,viewBox:\"0 0 21 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",style:{flexGrow:0,flexShrink:0,width:20,height:20,position:'relative'},preserveAspectRatio:\"xMidYMid meet\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3.625 10H17.375\",stroke:\"white\",\"stroke-width\":2,\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M11.75 4.375L17.375 10L11.75 15.625\",stroke:\"white\",\"stroke-width\":2,\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})]});}","map":{"version":3,"names":["style","React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","LoginForm","user_id","setUsername","user_pw","setPassword","errorMessage","setErrorMessage","navigate","handleLogin","baseURL","process","env","NODE_ENV","response","post","concat","data","valid","localStorage","setItem","alert","error","className","bg","children","bg__container","login__title","login__input","login__input__id","type","name","value","onChange","e","target","login__input__pw","href","EyeSvg","login__loginBtn","onClick","Arrow","register","register__container","register__title","params","width","height","viewBox","fill","xmlns","d","stroke","flexGrow","flexShrink","position","preserveAspectRatio"],"sources":["/home/damoa_react/src/component/LoginForm.jsx"],"sourcesContent":["import style from '../css/LoginForm.module.css';\r\nimport React, { useState } from 'react';\r\nimport {\r\n    useNavigate,\r\n} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function LoginForm() {\r\n    const [user_id, setUsername] = useState(\"\");\r\n    const [user_pw, setPassword] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = async () => {\r\n        try {\r\n            // Define the base URL\r\n            let baseURL = \"\";\r\n            if (process.env.NODE_ENV === \"development\") {\r\n            // If in development environment, use local IP\r\n            baseURL = \"http://121.139.20.242:5100\";\r\n            }\r\n            const response = await axios.post(`${baseURL}/api/check`, {\r\n            user_id: user_id,\r\n            user_pw: user_pw,\r\n            });\r\n            if (response.data.valid) {\r\n            localStorage.setItem(\"user_id\", user_id);\r\n            navigate(\"/\"); // Navigate to main page on successful login\r\n            } else {\r\n            alert(\"아이디 또는 비밀번호가 잘못되었습니다.\");\r\n            }\r\n        } catch (error) {\r\n            alert(\"데이터베이스 연결이 실패하였습니다.\");\r\n        }\r\n        };\r\n\r\n    return (\r\n        <div className={style.bg}>\r\n            <div className={style.bg__container}>\r\n                <p className={style.login__title}>로그인을 해주세요</p>\r\n                <div className={style.login__input}>\r\n                    <div className={style.login__input__id}>\r\n                        <p>아이디</p>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"id\"\r\n                            value={user_id}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className={style.login__input__pw}>\r\n                        <div>\r\n                            <p>비밀번호</p>\r\n                            <a href=\"#\">비밀번호를 잊어버렸나요?</a>\r\n                        </div>\r\n                        <div className=\"pw-input-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                value={user_pw}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                            <EyeSvg />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {errorMessage && <p className={style.errorMessage}>{errorMessage}</p>}\r\n                <button className={style.login__loginBtn} onClick={handleLogin}>\r\n                    <p>로그인</p>\r\n                    <Arrow />\r\n                </button>\r\n            </div>\r\n            <div className={style.register}>\r\n                <div className={style.register__container}>\r\n                    <a className={style.register__title} href=\"#\">\r\n                        회원가입\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction EyeSvg(params) {\r\n    return (\r\n        <svg\r\n            className={style[`eye-icon`]}\r\n            width=\"44\"\r\n            height=\"44\"\r\n            viewBox=\"0 0 49 49\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n            <path\r\n                d=\"M40 15.5417C33.75 15.5417 31.25 22 31.25 22C31.25 22 33.75 28.4584 40 28.4584C46.25 28.4584 48.75 22 48.75 22C48.75 22 46.25 15.5417 40 15.5417Z\"\r\n                stroke=\"#999999\"\r\n                stroke-width=\"1.5\"\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n                d=\"M40 24.5C41.381 24.5 42.5 23.3807 42.5 22C42.5 20.6193 41.381 19.5 40 19.5C38.619 19.5 37.5 20.6193 37.5 22C37.5 23.3807 38.619 24.5 40 24.5Z\"\r\n                stroke=\"#999999\"\r\n                stroke-width=\"1.5\"\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n            />\r\n        </svg>\r\n    );\r\n}\r\n\r\nfunction Arrow() {\r\n    return (\r\n        <svg\r\n            width={21}\r\n            height={20}\r\n            viewBox=\"0 0 21 20\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            style={{\r\n                flexGrow: 0,\r\n                flexShrink: 0,\r\n                width: 20,\r\n                height: 20,\r\n                position: 'relative',\r\n            }}\r\n            preserveAspectRatio=\"xMidYMid meet\"\r\n        >\r\n            <path d=\"M3.625 10H17.375\" stroke=\"white\" stroke-width={2} stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n            <path\r\n                d=\"M11.75 4.375L17.375 10L11.75 15.625\"\r\n                stroke=\"white\"\r\n                stroke-width={2}\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n            />\r\n        </svg>\r\n    );\r\n}\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}