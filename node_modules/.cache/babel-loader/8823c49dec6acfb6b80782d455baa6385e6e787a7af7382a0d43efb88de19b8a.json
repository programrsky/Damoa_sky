{"ast":null,"code":"import Modal from'react-modal';import LoginForm from'./LoginForm';import SignUpForm from'./SignUpForm';import MyPageForm from'./ChangingInformation';import{useState,useEffect}from'react';import style from'../css/LoginForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){const[loginPageOpen,setLoginPageOpen]=useState(false);const[signUpPageOpen,setSignUpPageOpen]=useState(false);const[myPageOpen,setMyPageOpen]=useState(false);// 마이 페이지 모달 상태 추가\nconst[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{const userId=localStorage.getItem('user_id');if(userId){setIsLoggedIn(true);}},[]);const openLoginModal=()=>{setLoginPageOpen(true);setSignUpPageOpen(false);setMyPageOpen(false);document.body.classList.add('modal-open');// 모달이 열릴 때 클래스 추가\n};const openSignUpModal=()=>{setLoginPageOpen(false);setSignUpPageOpen(true);setMyPageOpen(false);document.body.classList.add('modal-open');// 모달이 열릴 때 클래스 추가\n};const openMyPageModal=()=>{setLoginPageOpen(false);setSignUpPageOpen(false);setMyPageOpen(true);document.body.classList.add('modal-open');// 모달이 열릴 때 클래스 추가\n};const closeModal=()=>{setLoginPageOpen(false);setSignUpPageOpen(false);setMyPageOpen(false);document.body.classList.remove('modal-open');// 모달이 닫힐 때 클래스 제거\n};const onLogout=()=>{localStorage.removeItem('user_id');setIsLoggedIn(false);};useEffect(()=>{return()=>{document.body.classList.remove('modal-open');// 컴포넌트 언마운트 시 클래스 제거\n};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openLoginModal,className:style.button,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openSignUpModal,className:style.button,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openMyPageModal,className:style.button,children:\"\\uC815\\uBCF4 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onLogout,className:style.button,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]}),/*#__PURE__*/_jsx(Modal,{isOpen:loginPageOpen,onRequestClose:closeModal,className:style.content,style:{overlay:{backgroundColor:'rgba(33, 33, 33, 0.75)',zIndex:1500},content:{zIndex:1500}},children:/*#__PURE__*/_jsx(LoginForm,{openSignUpModal:openSignUpModal})}),/*#__PURE__*/_jsx(Modal,{isOpen:signUpPageOpen,onRequestClose:closeModal,className:style.signUp,style:{overlay:{backgroundColor:'rgba(33, 33, 33, 0.75)',zIndex:1500},content:{top:'50%',left:'50%',right:'auto',bottom:'auto',marginRight:'-50%',transform:'translate(-50%, -50%)',maxHeight:'90vh',// 최대 높이 설정\noverflowY:'auto',// 내용이 넘칠 경우 스크롤\nzIndex:1500// 모달 내용의 z-index 설정\n}},children:/*#__PURE__*/_jsx(SignUpForm,{openLoginModal:openLoginModal})}),/*#__PURE__*/_jsx(Modal,{isOpen:myPageOpen,onRequestClose:closeModal,className:style.myPage,style:{overlay:{backgroundColor:'rgba(33, 33, 33, 0.75)',zIndex:1500},content:{top:'50%',left:'50%',right:'auto',bottom:'auto',marginRight:'-50%',transform:'translate(-50%, -50%)',maxHeight:'90vh',// 최대 높이 설정\noverflowY:'auto',// 내용이 넘칠 경우 스크롤\nzIndex:1500// 모달 내용의 z-index 설정\n}},children:/*#__PURE__*/_jsx(MyPageForm,{})})]});}","map":{"version":3,"names":["Modal","LoginForm","SignUpForm","MyPageForm","useState","useEffect","style","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","LoginPage","loginPageOpen","setLoginPageOpen","signUpPageOpen","setSignUpPageOpen","myPageOpen","setMyPageOpen","isLoggedIn","setIsLoggedIn","userId","localStorage","getItem","openLoginModal","document","body","classList","add","openSignUpModal","openMyPageModal","closeModal","remove","onLogout","removeItem","children","type","onClick","className","button","display","alignItems","gap","isOpen","onRequestClose","content","overlay","backgroundColor","zIndex","signUp","top","left","right","bottom","marginRight","transform","maxHeight","overflowY","myPage"],"sources":["/Users/programsky/Documents/GitHub/Damoa_sky/src/component/LoginPage.jsx"],"sourcesContent":["import Modal from 'react-modal';\nimport LoginForm from './LoginForm';\nimport SignUpForm from './SignUpForm';\nimport MyPageForm from './ChangingInformation';\nimport { useState, useEffect } from 'react';\nimport style from '../css/LoginForm.module.css';\n\nexport default function LoginPage() {\n    const [loginPageOpen, setLoginPageOpen] = useState(false);\n    const [signUpPageOpen, setSignUpPageOpen] = useState(false);\n    const [myPageOpen, setMyPageOpen] = useState(false); // 마이 페이지 모달 상태 추가\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    useEffect(() => {\n        const userId = localStorage.getItem('user_id');\n        if (userId) {\n            setIsLoggedIn(true);\n        }\n    }, []);\n\n    const openLoginModal = () => {\n        setLoginPageOpen(true);\n        setSignUpPageOpen(false);\n        setMyPageOpen(false);\n        document.body.classList.add('modal-open'); // 모달이 열릴 때 클래스 추가\n    };\n\n    const openSignUpModal = () => {\n        setLoginPageOpen(false);\n        setSignUpPageOpen(true);\n        setMyPageOpen(false);\n        document.body.classList.add('modal-open'); // 모달이 열릴 때 클래스 추가\n    };\n\n    const openMyPageModal = () => {\n        setLoginPageOpen(false);\n        setSignUpPageOpen(false);\n        setMyPageOpen(true);\n        document.body.classList.add('modal-open'); // 모달이 열릴 때 클래스 추가\n    };\n\n    const closeModal = () => {\n        setLoginPageOpen(false);\n        setSignUpPageOpen(false);\n        setMyPageOpen(false);\n        document.body.classList.remove('modal-open'); // 모달이 닫힐 때 클래스 제거\n    };\n\n    const onLogout = () => {\n        localStorage.removeItem('user_id');\n        setIsLoggedIn(false);\n    };\n\n    useEffect(() => {\n        return () => {\n            document.body.classList.remove('modal-open'); // 컴포넌트 언마운트 시 클래스 제거\n        };\n    }, []);\n\n    return (\n        <>\n            {!isLoggedIn ? (\n                <>\n                    <button type=\"button\" onClick={openLoginModal} className={style.button}>\n                        로그인\n                    </button>\n                    <button type=\"button\" onClick={openSignUpModal} className={style.button}>\n                        회원가입\n                    </button>\n                </>\n            ) : (\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <button type=\"button\" onClick={openMyPageModal} className={style.button}>\n                        정보 수정\n                    </button>\n                    <button type=\"button\" onClick={onLogout} className={style.button}>\n                        로그아웃\n                    </button>\n                </div>\n            )}\n            <Modal\n                isOpen={loginPageOpen}\n                onRequestClose={closeModal}\n                className={style.content}\n                style={{\n                    overlay: { backgroundColor: 'rgba(33, 33, 33, 0.75)', zIndex: 1500 },\n                    content: { zIndex: 1500 },\n                }}\n            >\n                <LoginForm openSignUpModal={openSignUpModal} />\n            </Modal>\n            <Modal\n                isOpen={signUpPageOpen}\n                onRequestClose={closeModal}\n                className={style.signUp}\n                style={{\n                    overlay: { backgroundColor: 'rgba(33, 33, 33, 0.75)', zIndex: 1500 },\n                    content: {\n                        top: '50%',\n                        left: '50%',\n                        right: 'auto',\n                        bottom: 'auto',\n                        marginRight: '-50%',\n                        transform: 'translate(-50%, -50%)',\n                        maxHeight: '90vh', // 최대 높이 설정\n                        overflowY: 'auto', // 내용이 넘칠 경우 스크롤\n                        zIndex: 1500, // 모달 내용의 z-index 설정\n                    },\n                }}\n            >\n                <SignUpForm openLoginModal={openLoginModal} />\n            </Modal>\n            <Modal\n                isOpen={myPageOpen}\n                onRequestClose={closeModal}\n                className={style.myPage}\n                style={{\n                    overlay: { backgroundColor: 'rgba(33, 33, 33, 0.75)', zIndex: 1500 },\n                    content: {\n                        top: '50%',\n                        left: '50%',\n                        right: 'auto',\n                        bottom: 'auto',\n                        marginRight: '-50%',\n                        transform: 'translate(-50%, -50%)',\n                        maxHeight: '90vh', // 최대 높이 설정\n                        overflowY: 'auto', // 내용이 넘칠 경우 스크롤\n                        zIndex: 1500, // 모달 내용의 z-index 설정\n                    },\n                }}\n            >\n                <MyPageForm />\n            </Modal>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}