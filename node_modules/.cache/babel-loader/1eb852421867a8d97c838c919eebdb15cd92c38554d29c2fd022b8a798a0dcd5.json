{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import styles from'../css/Review.module.css';import StarRating from'../svg/StarRating';import StarRatingHalf from'../svg/StarRatingHalf';import EmptyStarRating from'../svg/EmptyStarRating';import{ReactComponent as SvgIconLeft}from'../svg/SvgIconLeft.svg';import{ReactComponent as SvgIconRight}from'../svg/SvgIconRight.svg';import{ReactComponent as AddIcon}from'../svg/AddIcon.svg';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const getStars=rating=>{const stars=[];for(let i=1;i<=5;i++){if(rating>=i){stars.push(/*#__PURE__*/_jsx(StarRating,{},i));}else if(rating>=i-0.5){stars.push(/*#__PURE__*/_jsx(StarRatingHalf,{},i));}else{stars.push(/*#__PURE__*/_jsx(EmptyStarRating,{},i));}}return stars;};export default function Review(){const[slideIndex,setSlideIndex]=useState(0);const[data,setData]=useState([]);const[errorMessage,setErrorMessage]=useState('');const handleNextSlide=()=>{setSlideIndex(slideIndex=>slideIndex-100);// 오른쪽으로 슬라이드\n};const handlePrevSlide=()=>{if(slideIndex<0)setSlideIndex(slideIndex=>slideIndex+100);// 왼쪽으로 슬라이드\n};const scrollToTop=()=>{window.scrollTo({top:0,// 최상단으로 스크롤\nbehavior:'smooth'// 부드러운 스크롤 효과 적용\n});};useEffect(()=>{const fetchData=async()=>{try{// Define the base URL\nlet baseURL='';if(process.env.NODE_ENV==='development'){// If in development environment, use local IP\nbaseURL='http://121.139.20.242:5100';}const response=await axios.post(\"\".concat(baseURL,\"/api/notice_selectlist\"),{notice_auth:2});if(response.data.valid){setData(response.data.data);}else{setErrorMessage('리스트를 불러오는데 실패하였습니다.');}}catch(error){setErrorMessage('데이터베이스 연결이 실패하였습니다.');}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.title,children:\"\\uB9AC\\uBDF0\"}),/*#__PURE__*/_jsxs(Link,{className:styles.button,to:\"/review\",onClick:scrollToTop,children:[/*#__PURE__*/_jsx(AddIcon,{}),/*#__PURE__*/_jsx(\"p\",{className:styles.buttonText,children:\"\\uB9AC\\uBDF0 \\uC4F0\\uB7EC \\uAC00\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.iconContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.roundButton,onClick:handlePrevSlide,children:/*#__PURE__*/_jsx(SvgIconLeft,{className:styles.svgIcon})}),/*#__PURE__*/_jsx(\"div\",{className:styles.roundButton,onClick:handleNextSlide,children:/*#__PURE__*/_jsx(SvgIconRight,{className:styles.svgIcon})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.reviewContainer,style:{transform:\"translateX(\".concat(slideIndex,\"%)\")},children:data.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.reviewItemContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.reviewTitleContainer,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.reviewTitle,children:review.notice_name}),/*#__PURE__*/_jsx(\"button\",{className:styles.rating__starBtn_Review,children:/*#__PURE__*/_jsxs(\"div\",{className:styles['rating__starBtn__elements-group'],children:[/*#__PURE__*/_jsx(\"div\",{className:styles.rating__starBtn__Reviewstars,children:getStars(review.rating)}),/*#__PURE__*/_jsx(\"span\",{className:styles.rating__starBtn__text,children:review.rating})]})})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.reviewSubTitle,children:review.user_name}),/*#__PURE__*/_jsx(\"p\",{className:styles.reviewText,children:review.notice_detail})]},index))})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","styles","StarRating","StarRatingHalf","EmptyStarRating","ReactComponent","SvgIconLeft","SvgIconRight","AddIcon","Link","jsx","_jsx","jsxs","_jsxs","getStars","rating","stars","i","push","Review","slideIndex","setSlideIndex","data","setData","errorMessage","setErrorMessage","handleNextSlide","handlePrevSlide","scrollToTop","window","scrollTo","top","behavior","fetchData","baseURL","process","env","NODE_ENV","response","post","concat","notice_auth","valid","error","className","container","children","header","title","button","to","onClick","buttonText","iconContainer","roundButton","svgIcon","reviewContainer","style","transform","map","review","index","reviewItemContainer","reviewTitleContainer","reviewTitle","notice_name","rating__starBtn_Review","rating__starBtn__Reviewstars","rating__starBtn__text","reviewSubTitle","user_name","reviewText","notice_detail"],"sources":["/Users/programsky/Documents/GitHub/Damoa_sky/src/component/MainReview.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from '../css/Review.module.css';\nimport StarRating from '../svg/StarRating';\nimport StarRatingHalf from '../svg/StarRatingHalf';\nimport EmptyStarRating from '../svg/EmptyStarRating';\nimport { ReactComponent as SvgIconLeft } from '../svg/SvgIconLeft.svg';\nimport { ReactComponent as SvgIconRight } from '../svg/SvgIconRight.svg';\nimport { ReactComponent as AddIcon } from '../svg/AddIcon.svg';\nimport { Link } from 'react-router-dom';\n\nconst getStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n        if (rating >= i) {\n            stars.push(<StarRating key={i} />);\n        } else if (rating >= i - 0.5) {\n            stars.push(<StarRatingHalf key={i} />);\n        } else {\n            stars.push(<EmptyStarRating key={i} />);\n        }\n    }\n    return stars;\n};\n\nexport default function Review() {\n    const [slideIndex, setSlideIndex] = useState(0);\n    const [data, setData] = useState([]);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const handleNextSlide = () => {\n        setSlideIndex((slideIndex) => slideIndex - 100); // 오른쪽으로 슬라이드\n    };\n\n    const handlePrevSlide = () => {\n        if (slideIndex < 0) setSlideIndex((slideIndex) => slideIndex + 100); // 왼쪽으로 슬라이드\n    };\n\n    const scrollToTop = () => {\n        window.scrollTo({\n            top: 0, // 최상단으로 스크롤\n            behavior: 'smooth', // 부드러운 스크롤 효과 적용\n        });\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                // Define the base URL\n                let baseURL = '';\n                if (process.env.NODE_ENV === 'development') {\n                    // If in development environment, use local IP\n                    baseURL = 'http://121.139.20.242:5100';\n                }\n\n                const response = await axios.post(`${baseURL}/api/notice_selectlist`, {\n                    notice_auth: 2,\n                });\n\n                if (response.data.valid) {\n                    setData(response.data.data);\n                } else {\n                    setErrorMessage('리스트를 불러오는데 실패하였습니다.');\n                }\n            } catch (error) {\n                setErrorMessage('데이터베이스 연결이 실패하였습니다.');\n            }\n        };\n\n        fetchData();\n    }, []);\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <p className={styles.title}>리뷰</p>\n                <Link className={styles.button} to=\"/review\" onClick={scrollToTop}>\n                    <AddIcon />\n                    <p className={styles.buttonText}>리뷰 쓰러 가기</p>\n                </Link>\n                <div className={styles.iconContainer}>\n                    {/* 왼쪽버튼 */}\n                    <div className={styles.roundButton} onClick={handlePrevSlide}>\n                        <SvgIconLeft className={styles.svgIcon} />\n                    </div>\n                    {/* 오른쪽버튼 */}\n                    <div className={styles.roundButton} onClick={handleNextSlide}>\n                        <SvgIconRight className={styles.svgIcon} />\n                    </div>\n                </div>\n            </div>\n            <div className={styles.reviewContainer} style={{ transform: `translateX(${slideIndex}%)` }}>\n                {data.map((review, index) => (\n                    <div className={styles.reviewItemContainer} key={index}>\n                        <div className={styles.reviewTitleContainer}>\n                            <p className={styles.reviewTitle}>{review.notice_name}</p>\n                            <button className={styles.rating__starBtn_Review}>\n                                <div className={styles['rating__starBtn__elements-group']}>\n                                    <div className={styles.rating__starBtn__Reviewstars}>{getStars(review.rating)}</div>\n                                    <span className={styles.rating__starBtn__text}>{review.rating}</span>\n                                </div>\n                            </button>\n                        </div>\n                        <p className={styles.reviewSubTitle}>{review.user_name}</p>\n                        <p className={styles.reviewText}>{review.notice_detail}</p>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}